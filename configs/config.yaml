# Base Configuration (shared settings)
# This file contains shared settings used by both train.yaml and train0.yaml

# Model Architecture
model:
  in_dim: 3                    # Input channels (RGB)
  out_dim: 3                   # Output channels
  dim: 256                     # Hidden dimension (reduced for ~5M params)
  ffn_dim: 1024                # FFN dimension (reduced for ~5M params)
  num_heads: 8                 # Attention heads
  num_layers: 4                # Transformer layers (reduced for ~5M params)
  patch_size: [1, 4, 4]        # Patch size for embedding (temporal, height, width)
  text_dim: 128                # Text embedding dimension
  freq_dim: 256                # Time embedding dimension
  num_frame_per_block: 3       # Frames per block for causal mask

# Text Encoder
text_encoder:
  text_dim: 128                # Text embedding dimension
  text_len: 77                 # Maximum text length
  vocab_size: 256              # Vocabulary size (character-level)

# Dataset Configuration
dataset:
  type: "moving_mnist"         # Dataset type: "toy" or "moving_mnist"
  num_digits: 1                # Number of digits per video (Moving MNIST)
  digit_size: 28               # Size of MNIST digit (default: 28, original MNIST size)
  max_velocity: 2.0            # Maximum velocity for digit movement

# Generation/Inference Hyperparameters
generation:
  num_frames: 9                # Number of frames to generate
  num_frames_per_block: 3      # Frames per block (must divide num_frames)
  denoising_steps: [1000, 750, 500, 250]  # Denoising timesteps
  output_dir: "outputs/generated"
  num_viz_samples: 10          # Number of sample videos during training
  viz_num_frames: 9            # Number of frames for visualization
  gif_fps: 2                   # GIF playback speed

# Visualization digits for training (list of digits 0-9, null = random digits)
viz_digits: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# Device and Randomness
device: "cuda"                 # Device to use (cuda/cpu)
seed: 42                       # Random seed

# Weights & Biases (wandb) Configuration
wandb:
  enabled: true
  project: "self-forcing"
  entity: dpose-team
  name: null

